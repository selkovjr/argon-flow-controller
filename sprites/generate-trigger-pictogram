#!/usr/bin/env perl6

# header {{{1
v6;
use fatal;
use Data::Dump;
#}}}

sub MAIN ($mode!, $state!) {
  CONTROL {
    when CX::Warn {
      note $_;
      exit 1;
    }
  }

  my $color;

  if $mode eq 't4' {
    say qq/stroke DarkSlateGray text 16,14 "T4"/;

    if $state eq 'p1' {
      $color = 'red';
      say "stroke $color line 1,10 10,10";
      say "stroke $color line 1,12 10,12";
    }
    else {
      $color = 'teal';
    }
    say "stroke $color line 1,11 10,11";

    $color = $state eq 'r1' ?? 'red' !! 'teal';
    say "stroke $color line 11,8 14,2";
    say "stroke $color line 14,2 28,2";

    $color = $state eq 'p2' ?? 'red' !! 'teal';
    say "stroke $color line 29,5 32,11";
    say "stroke $color line 32,11 42,11";
  }

  elsif $mode eq 'T2' {
  }

  else {
    die "invalid mode $mode";
  }
}
